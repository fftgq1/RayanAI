:root{--bg:#f6f7fb;--bg2:#eef1f7;--panel:rgba(255,255,255,.72);--panel2:rgba(255,255,255,.50);--border:rgba(15,23,42,.10);--text:#0f172a;--muted:#475569;--muted2:#64748b;--accent:#2563eb;--accent2:#7c3aed;--ok:#16a34a;--bad:#ef4444;--shadow:0 18px 60px rgba(2,6,23,.10);--shadow2:0 10px 30px rgba(2,6,23,.08);--radius:18px;--radius2:22px}
[data-theme="dark"]{--bg:#0b1020;--bg2:#0a1224;--panel:rgba(255,255,255,.06);--panel2:rgba(255,255,255,.04);--border:rgba(255,255,255,.10);--text:#eaf0ff;--muted:#a7b2d9;--muted2:#94a3b8;--shadow:0 18px 60px rgba(0,0,0,.40);--shadow2:0 10px 30px rgba(0,0,0,.25)}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"SF Pro Display","SF Pro Text",Segoe UI,Roboto,Arial;color:var(--text);background:radial-gradient(1200px 800px at 10% 10%,rgba(37,99,235,.10),transparent 55%),radial-gradient(900px 700px at 90% 15%,rgba(124,58,237,.08),transparent 60%),linear-gradient(140deg,var(--bg),var(--bg2));overflow:hidden}
.app{height:100vh;display:grid;grid-template-columns:320px 1fr 420px}
.btn{border-radius:16px;padding:10px 12px;border:1px solid var(--border);background:var(--panel2);color:var(--text);cursor:pointer;font-weight:700;transition:transform .08s ease,background .15s ease,border-color .15s ease,box-shadow .15s ease;box-shadow:var(--shadow2)}
.btn:hover{background:rgba(255,255,255,.82)}[data-theme="dark"] .btn:hover{background:rgba(255,255,255,.09)}.btn:active{transform:translateY(1px)}
.btn.primary{border-color:rgba(37,99,235,.24);background:linear-gradient(135deg,rgba(37,99,235,.20),rgba(124,58,237,.10))}
.btn.ghost{background:var(--panel2)}.btn.slim{padding:9px 10px;border-radius:999px;box-shadow:none}.btn:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}
.input,.textarea{width:100%;color:var(--text);background:rgba(255,255,255,.70);border:1px solid var(--border);border-radius:16px;padding:10px 12px;outline:none}
[data-theme="dark"] .input,[data-theme="dark"] .textarea{background:rgba(255,255,255,.05)}
.textarea{min-height:120px;resize:vertical}
.label{display:block;font-size:12px;color:var(--muted);margin:10px 0 6px}
.hint{margin-top:10px;color:var(--muted2);font-size:12px;line-height:1.35}
.iconBtn{width:42px;height:42px;border-radius:16px;border:1px solid var(--border);background:var(--panel2);color:var(--text);cursor:pointer;transition:background .15s ease,transform .08s ease,box-shadow .15s ease;box-shadow:var(--shadow2)}
.iconBtn:hover{background:rgba(255,255,255,.88)}[data-theme="dark"] .iconBtn:hover{background:rgba(255,255,255,.09)}.iconBtn:active{transform:translateY(1px)}
.sidebar{border-right:1px solid var(--border);background:rgba(255,255,255,.32);backdrop-filter:blur(16px);padding:14px;overflow:auto}
[data-theme="dark"] .sidebar{background:rgba(10,14,30,.35)}
.sbTop{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:12px}
.brand{display:flex;align-items:center;gap:12px}
.brandMark{width:44px;height:44px;border-radius:16px;display:grid;place-items:center;font-weight:900;border:1px solid rgba(15,23,42,.10);background:linear-gradient(135deg,rgba(37,99,235,.22),rgba(124,58,237,.10));box-shadow:var(--shadow)}
.brandName{font-weight:900;letter-spacing:-.02em}.brandSub{font-size:12px;color:var(--muted);margin-top:2px}
.sbAuth{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius2);padding:12px;margin-bottom:12px;box-shadow:var(--shadow2)}
.authLine{font-size:13px;color:var(--muted)}
.authBtns{display:flex;gap:10px;margin-top:10px}.authBtns .btn{flex:1}
.sbActions{display:flex;gap:10px;margin-bottom:12px}.sbActions .btn{flex:1;box-shadow:none}
.sbSearch{margin-bottom:10px}
.sbList{display:flex;flex-direction:column;gap:8px;padding-bottom:10px}
.sessionItem{display:flex;justify-content:space-between;align-items:center;gap:10px;padding:10px 12px;border-radius:18px;border:1px solid var(--border);background:var(--panel);cursor:pointer;transition:background .15s ease,border-color .15s ease;box-shadow:var(--shadow2)}
.sessionItem:hover{background:rgba(255,255,255,.92)}[data-theme="dark"] .sessionItem:hover{background:rgba(255,255,255,.08)}
.sessionItem.active{border-color:rgba(37,99,235,.28);background:rgba(37,99,235,.10)}
.sessionMeta{display:flex;flex-direction:column;gap:4px;min-width:0}
.sessionTitle{font-weight:800;font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.sessionSub{font-size:11px;color:var(--muted2)}
.sbFooter{margin-top:10px}
.pill{display:inline-block;font-size:12px;padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:var(--panel);color:var(--muted);box-shadow:var(--shadow2)}
.sbTiny{font-size:12px;color:var(--muted2);margin-top:8px}
.main{display:flex;flex-direction:column;height:100vh;overflow:hidden}
.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;border-bottom:1px solid var(--border);background:rgba(255,255,255,.35);backdrop-filter:blur(16px)}
[data-theme="dark"] .topbar{background:rgba(255,255,255,.03)}
.topTitle .h1{font-size:18px;font-weight:900;letter-spacing:-.02em}.topTitle .h2{font-size:12px;color:var(--muted);margin-top:4px}
.topControls{display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end}
.chip{border:1px solid var(--border);background:rgba(255,255,255,.55);color:var(--muted);padding:9px 10px;border-radius:999px;cursor:pointer;font-weight:800;font-size:12px}
[data-theme="dark"] .chip{background:rgba(255,255,255,.03)}
.chip.active{color:var(--text);border-color:rgba(37,99,235,.24);background:rgba(37,99,235,.12)}
.chatWrap{flex:1;overflow:hidden;padding:12px 0}.chat{height:100%;overflow:auto;padding:18px 16px}
.msgRow{display:flex;justify-content:flex-start;margin:12px 0}.msgRow.user{justify-content:flex-end}
.bubble{max-width:900px;border-radius:22px;border:1px solid var(--border);background:var(--panel);padding:12px 14px;line-height:1.65;box-shadow:var(--shadow2)}
.msgRow.user .bubble{background:linear-gradient(135deg,rgba(37,99,235,.16),rgba(124,58,237,.06));border-color:rgba(37,99,235,.18)}
.meta{display:flex;gap:10px;align-items:center;margin-top:10px;font-size:11px;color:var(--muted2)}
.roleTag{font-weight:900;letter-spacing:.06em;text-transform:uppercase;font-size:10px}
.composer{padding:12px 16px 16px;border-top:1px solid var(--border);background:rgba(255,255,255,.35);backdrop-filter:blur(16px)}
[data-theme="dark"] .composer{background:rgba(255,255,255,.03)}
.composerBox{max-width:980px;margin:0 auto}
.composerRow{display:flex;align-items:flex-end;gap:10px;border-radius:24px;border:1px solid var(--border);background:rgba(255,255,255,.70);padding:10px;box-shadow:var(--shadow2)}
[data-theme="dark"] .composerRow{background:rgba(255,255,255,.05)}
.composerInput{flex:1;border:0;outline:none;background:transparent;color:var(--text);font-size:14px;padding:10px 8px;resize:none;max-height:180px;line-height:1.45}
.sendBtn{border-radius:18px;padding:10px 14px;border:1px solid rgba(37,99,235,.22);background:linear-gradient(135deg,rgba(37,99,235,.20),rgba(124,58,237,.08));color:var(--text);cursor:pointer;font-weight:900;display:flex;align-items:center;gap:10px;box-shadow:var(--shadow2)}
.sendBtn:disabled{opacity:.55;cursor:not-allowed;box-shadow:none}
.composerSub{display:flex;justify-content:space-between;align-items:center;margin-top:10px;color:var(--muted2);font-size:12px}
.kbd{padding:2px 6px;border:1px solid var(--border);border-radius:10px;background:rgba(255,255,255,.65);font-weight:900;font-size:11px}
[data-theme="dark"] .kbd{background:rgba(255,255,255,.05)}
.drawer{border-left:1px solid var(--border);background:rgba(255,255,255,.32);backdrop-filter:blur(16px);padding:14px;overflow:auto}
[data-theme="dark"] .drawer{background:rgba(10,14,30,.35)}
.drawerTitle{font-weight:900;font-size:16px;letter-spacing:-.01em}.drawerSub{color:var(--muted);font-size:12px;margin-top:4px}
.card{border-radius:24px;border:1px solid var(--border);background:var(--panel);padding:12px;box-shadow:var(--shadow2)}
.cardTitle{font-weight:900}.cardSub{color:var(--muted2);font-size:12px;margin-top:4px}
.drop{border:1px dashed rgba(15,23,42,.18);border-radius:20px;padding:14px;text-align:center;background:rgba(255,255,255,.60);cursor:pointer;margin-top:10px;box-shadow:var(--shadow2)}
[data-theme="dark"] .drop{border-color:rgba(255,255,255,.18);background:rgba(255,255,255,.04)}
.drop:hover{background:rgba(255,255,255,.92)}[data-theme="dark"] .drop:hover{background:rgba(255,255,255,.07)}
.dropTitle{font-weight:900}.dropSub{color:var(--muted2);font-size:12px;margin-top:4px}.drop input{display:none}
.progressBar{height:10px;border-radius:999px;background:rgba(2,6,23,.06);overflow:hidden;border:1px solid rgba(15,23,42,.10)}
.progressFill{height:100%;width:0%;background:linear-gradient(90deg,rgba(37,99,235,.60),rgba(124,58,237,.45))}
.toast{position:fixed;bottom:18px;right:18px;padding:12px 14px;border-radius:18px;border:1px solid rgba(255,255,255,.22);background:rgba(2,6,23,.72);color:#fff;box-shadow:var(--shadow);z-index:200;max-width:420px}
.mobileOnly{display:none}
@media (max-width:1200px){.app{grid-template-columns:320px 1fr}.drawer{display:none}}
@media (max-width:980px){.app{grid-template-columns:1fr}.sidebar{position:fixed;inset:0 auto 0 0;width:min(420px,92vw);transform:translateX(-110%);transition:transform .22s ease;z-index:50}.sidebar.open{transform:translateX(0%)}.mobileOnly{display:inline-flex}}
